<!DOCTYPE html>
<html>
<head>
   <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js"></script>
   <!-- P2PEngine -->
   <script src="https://cdn.jsdelivr.net/npm/swarmcloud-hls@latest/dist/p2p-engine.min.js"></script>
   <!-- P2P Clappr Plugin -->
   <script src="https://cdn.jsdelivr.net/npm/swarmcloud-hls@latest/dist/clappr-p2p-plugin.min.js"></script>
   <!-- Samsung Smart TV -->
   <script type="text/javascript" src="$WEBAPIS/webapis/webapis.js"></script>
   <style>
       body, html {
           margin: 0;
           padding: 0;
           width: 100%;
           height: 100%;
           overflow: hidden;
       }
       #player {
           position: absolute;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
       }
   </style>
</head>
<body>
<div id="player"></div>
<script>
   var p2pConfig = {
       trackerZone: 'us',
   };

   var player = new Clappr.Player({
       source: "https://7.tiofutbol.com:443/lb/dsports/mono.m3u8?token=dd1aed43e8b11f4b0cafe810c82dcedbe3688c8a-ebb73fb66df72be3e47d7c0261a5e777-1720343228-1720310828&remote=181.72.27.235",
       parentId: "#player",
       poster: '',
       width: '100%',
       height: '100%',
       autoPlay: true,
       mute: true,
       plugins: [SwarmCloudClapprPlugin],
       playback: {
           hlsjsConfig: {
               maxBufferSize: 0,
               maxBufferLength: 12,
               liveSyncDurationCount: 8,
               enableDvr: false,
               p2pConfig
           }
       }
   });

   function handleKeyDown(event) {
       console.log('Key pressed: ', event.keyCode);
       if (event.keyCode === 427) { // Channel Up
           window.location.href = 'tnt.html';
       }
   }

   document.addEventListener('keydown', handleKeyDown);

   function goFullScreen() {
       var elem = document.documentElement;
       if (elem.requestFullscreen) {
           elem.requestFullscreen();
       } else if (elem.mozRequestFullScreen) { // Firefox
           elem.mozRequestFullScreen();
       } else if (elem.webkitRequestFullscreen) { // Chrome, Safari and Opera
           elem.webkitRequestFullscreen();
       } else if (elem.msRequestFullscreen) { // IE/Edge
           elem.msRequestFullscreen();
       }
   }

   window.onload = function() {
       goFullScreen();
   };

   if (typeof tizen !== 'undefined') {
       document.addEventListener('keydown', function(e) {
           switch(e.keyCode) {
               case 10009: // Return key
                   tizen.application.getCurrentApplication().exit();
                   break;
               case 427: // Channel Up
                   window.location.href = 'tnt.html';
                   break;
               case 428: // Channel Down
                   window.location.href = 'index.html';
                   break;
           }
       });
   }
</script>
</body>
</html>
